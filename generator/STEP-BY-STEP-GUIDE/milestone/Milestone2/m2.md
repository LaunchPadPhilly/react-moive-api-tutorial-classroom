## 🔍 Milestone 2: Core Feature Implementation

**Goal:** Implement search recipes functionality

**Duration:** Days 4-6

**Learning Objectives:**
- Integrate with Spoonacular API
- Create custom hooks for data fetching
- Build responsive UI components
- Handle loading and error states

### Deliverables Checklist
- [ ] API integration complete
- [ ] Search Recipes component working
- [ ] Ingredients component working
- [ ] Loading states implemented
- [ ] Error handling functional
- [ ] Responsive grid layout

### Step-by-Step Instructions

#### Step 1: Set Up API Service

Create `src/services/apiService.js`:
```javascript
const API_KEY = import.meta.env.VITE_API_KEY;
const BASE_URL = '...'; // API base URL

export const apiService = {
  async search(query) {
    const response = await fetch(`${BASE_URL}/search?q=${query}&apikey=${API_KEY}`);
    if (!response.ok) throw new Error('Search failed');
    return response.json();
  },

  async getDetails(id) {
    const response = await fetch(`${BASE_URL}/item/${id}?apikey=${API_KEY}`);
    if (!response.ok) throw new Error('Fetch failed');
    return response.json();
  }
};
```

#### Step 2: Create Custom Hooks

Create `src/hooks/useDebounce.js`:
```javascript
import { useState, useEffect } from 'react';

export function useDebounce(value, delay = 500) {
  const [debouncedValue, setDebouncedValue] = useState(value);

  useEffect(() => {
    const timer = setTimeout(() => setDebouncedValue(value), delay);
    return () => clearTimeout(timer);
  }, [value, delay]);

  return debouncedValue;
}
```

Create `src/hooks/useData.js` using React Server Components + SWR.

#### Step 3: Build Main Components

Build these components:

1. **SearchBar Component**: Input with debouncing
2. **Card Component**: Display individual items in grid
3. **Grid Component**: Responsive layout wrapper

Focus on:
- Clean component structure
- Proper prop types
- Accessible markup
- Responsive CSS

#### Step 4: Implement Loading & Error States

Create loading and error components:

**LoadingSpinner.jsx:**
- CSS spinner animation
- Accessible loading text

**ErrorMessage.jsx:**
- Error display with retry button
- User-friendly messages

#### Step 5: Test Core Functionality

```bash
# Run development server
pnpm run dev

# Test:
# 1. search recipes works
# 2. Results display correctly
# 3. Loading spinner shows during fetch
# 4. Errors display gracefully
```

### Common Issues & Solutions

**Issue:** API rate limiting
**Solution:** Implement caching with React Server Components + SWR

**Issue:** CORS errors
**Solution:** Check API documentation for proper headers

**Issue:** API key not working
**Solution:** Verify environment variable name starts with VITE_

### Resources
- [React Server Components + SWR Documentation]
- [Error Handling Best Practices]
- [Responsive Design Patterns]

### Success Criteria
✅ Core feature fully functional
✅ Loading states provide feedback
✅ Errors handled gracefully
✅ Mobile responsive layout
✅ No console errors

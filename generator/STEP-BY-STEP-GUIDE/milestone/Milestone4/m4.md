## ✨ Milestone 4: Testing, Accessibility & Deployment

**Goal:** Prepare production-ready application

**Duration:** Days 10-10

**Learning Objectives:**
- Implement accessibility features
- Write comprehensive tests
- Optimize performance
- Deploy to production

### Deliverables Checklist
- [ ] Accessibility audit complete (WCAG 2.1 AA)
- [ ] Test suite written (≥ 70% coverage)
- [ ] Performance optimized (Lighthouse ≥ 85)
- [ ] Error boundaries implemented
- [ ] Deployed to production
- [ ] Documentation complete

### Step-by-Step Instructions

#### Step 1: Accessibility Improvements

### Accessibility Checklist

- [ ] Add ARIA labels to all interactive elements
- [ ] Ensure keyboard navigation (Tab, Enter, Escape)
- [ ] Add focus indicators (:focus styles)
- [ ] Use semantic HTML (nav, main, article, button)
- [ ] Add alt text to images
- [ ] Ensure color contrast ≥ 4.5:1
- [ ] Support reduced motion
- [ ] Test with screen reader

**Example:**
```jsx
<button
  aria-label="Add to favorites"
  onClick={handleFavorite}
  className="favorite-btn"
>
  <HeartIcon aria-hidden="true" />
</button>
```

#### Step 2: Write Tests

### Test Categories

1. **Unit Tests**: Hooks, utilities
2. **Component Tests**: UI components
3. **Integration Tests**: User flows

**Example Test:**
```javascript
import { render, screen } from '@testing-library/react';
import { SearchBar } from './SearchBar';

test('renders search input', () => {
  render(<SearchBar />);
  expect(screen.getByRole('textbox')).toBeInTheDocument();
});
```

Run tests:
```bash
pnpm run test
```

#### Step 3: Performance Optimization

### Optimization Checklist

- [ ] Lazy load images (`loading="lazy"`)
- [ ] Code splitting (dynamic imports)
- [ ] Minimize bundle size
- [ ] Optimize images
- [ ] Add caching headers
- [ ] Use production build

Run Lighthouse audit:
```bash
# Build for production
pnpm run build

# Preview production build
pnpm run preview

# Audit with Lighthouse in Chrome DevTools
```

#### Step 4: Error Handling

Create `src/components/ErrorBoundary.jsx`:
```jsx
import { Component } from 'react';

class ErrorBoundary extends Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError() {
    return { hasError: true };
  }

  render() {
    if (this.state.hasError) {
      return <div>Something went wrong. <button onClick={() => window.location.reload()}>Reload</button></div>;
    }
    return this.props.children;
  }
}

export default ErrorBoundary;
```

#### Step 5: Deploy to Production

### Vercel Deployment (Recommended)

```bash
# Install Vercel CLI
npm i -g vercel

# Login
vercel login

# Deploy
vercel --prod

# Add environment variables in dashboard
```

### GitHub Pages Deployment

```bash
# Install gh-pages
pnpm install -D gh-pages

# Update vite.config.js
export default {
  base: '/recipe-sharing-app/'
}

# Add script to package.json
"scripts": {
  "deploy": "pnpm run build && gh-pages -d dist"
}

# Deploy
pnpm run deploy
```

### Testing Checklist

**Accessibility:**
- [ ] Keyboard navigation works
- [ ] Screen reader compatible
- [ ] Color contrast ≥ 4.5:1
- [ ] Focus indicators visible
- [ ] ARIA labels present

**Performance:**
- [ ] Lighthouse Performance ≥ 85
- [ ] First Contentful Paint < 1.5s
- [ ] Bundle size < 500KB

**Functionality:**
- [ ] All features working
- [ ] Error states handled
- [ ] Mobile responsive
- [ ] Cross-browser compatible

### Resources
- [WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [Lighthouse Documentation](https://developers.google.com/web/tools/lighthouse)
- [Jest + React Testing Library Guide]
- [Vercel Deployment Guide](https://vercel.com/docs)

### Success Criteria
✅ All accessibility checks pass
✅ Test coverage ≥ 70%
✅ Lighthouse scores meet targets
✅ Application deployed and accessible
✅ Documentation complete
